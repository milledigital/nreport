<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Logging in...</title>
  <script src="https://cdn.jsdelivr.net/npm/magic-sdk/dist/magic.js"></script>
</head>
<body>
  <p>Completing login...</p>
  <script>
    (async () => {
      const magic = new Magic('pk_live_9DAC656932318D95');

      try {
        const result = await magic.auth.loginWithCredential();
        console.log('✅ Magic login result:', result);
        window.location.href = '/';
      } catch (err) {
        console.error('❌ Login failed:', err);
        document.body.innerHTML = '<p style="color:red;">Login failed. Please try again.</p>';
      }
    })();
  </script>
</body>
</html>